@{
    ViewBag.Title = "IssueReport";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
<script src="/Scripts/jquery-2.1.4.js"></script>
<link href="/Content/bootstrap.css" rel="stylesheet" />
<link href="/Content/datetimepicker.css" rel="stylesheet" />
<script src="/Scripts/plugins/moment/moment.js"></script>
<script src="/Scripts/bootstrap.js"></script>
<script src="/Scripts/angular.js"></script>
<script src="/Scripts/angular-route.js"></script>
<script src="/Scripts/angular-resource.js"></script>
<script src="/Scripts/angular-ui-router.js"></script>
<script src="/Scripts/App/app.js"></script>
<script src="/Scripts/spin.min.js"></script>
<script src="/Scripts/angular-spinner.min.js"></script>
<script src="/Scripts/angular-loading-spinner.js"></script>
<script src="/Scripts/plugins/datetimepicker/datetimepicker.js"></script>
<script src="/Scripts/plugins/FileSave/FileSaver.min.js"></script>
@*<script src="~/Scripts/App/Controllers/StandingDryStock/.js"></script>*@
<script src="/Scripts/angular-ui/ui-bootstrap.js"></script>
<script src="/Scripts/App/Controllers/StandingDryStock/EditStandingDryLogCtrl.js"></script>
<script src="/Scripts/plugins/angularModal/angular-modal-service.js"></script>
<script src="/Scripts/App/Factory/StandingLogsFactory.js"></script>
<script src="/Scripts/App/Factory/DryListSearchFactory.js"></script>
<script src="/Scripts/App/Directives/pager.js"></script>
<script src="/Scripts/App/Directives/StandingDrySearch.js"></script>
<script src="/Scripts/App/Controllers/StandingDryStock/CreateStandingDryLogs.js"></script>
<script src="/Scripts/App/Services/StandingDryLog/StandingDryLogService.js"></script>
<script src="/Scripts/plugins/excelplugin/alasql.min.js"></script>
<script src="/Scripts/plugins/excelplugin/xlsx.core.min.js"></script>
<style type="text/css">
    .panel-primary > .panel-heading {
        background-color: #FF9800;
        border-color: #FB8C00;
        color: #fff3e0;
        border: solid;
    }
</style>

<p></p>
<p></p>
<div ng-app="dealerApp" class="container" ng-controller="loadDrylogsController">

    <div id="content" ui-view></div>

    <div class=" panel panel-primary">
        <div class="panel-heading"><h3>Standing Dry Search</h3></div>
        <div class="row form-group">
            <div class="col-sm-3">&nbsp;&nbsp;User</div>
            <div class="col-sm-3">
                &nbsp;&nbsp;
                <select id="userId" ng-model="sUserId" style="width: 100%;" class=" form-control">
                    <option value='' disabled selected style='display:none;'></option>
                    <option ng-repeat="item in IssueSearchLists.DealerUserList" value="{{item.Value}}">
                        {{item.Text}}
                    </option>
                </select>
            </div>
            <div class="col-sm-3">&nbsp;&nbsp;Tank</div>
            <div class="col-sm-3">

                <select id="Tank" ng-model="sTankID" style="width: 100%;" class=" form-control">
                    <option value='' disabled selected style='display:none;'></option>
                    <option ng-repeat="item in IssueSearchLists.Tanklist" value="{{item.Text}}">
                        {{item.Value}}
                    </option>
                </select>
                &nbsp;
            </div>

        </div>
        <div class="row form-group">

            <div class="col-sm-3">&nbsp;&nbsp;SOC</div>


            <div class="col-sm-3">
                <select id="SOC"  ng-model="sSOCID"style="width: 100%;" class=" form-control">
                    <option value='' disabled selected style='display:none;'></option>
                    <option ng-repeat="item in IssueSearchLists.Soclist" value="{{item.Text}}">
                        {{item.Value}}
                    </option>
                </select>
            </div>
            <div class="col-sm-3">&nbsp;&nbsp;Product</div>
            <div class="col-sm-3">
                <select id="product" ng-model="sProductID" style="width: 100%;" class=" form-control">
                    <option value='' disabled selected style='display:none;'></option>
                    <option ng-repeat="item in IssueSearchLists.ProductList" value="{{item.Text}}">
                        {{item.Value}}
                    </option>
                </select>
                &nbsp;
            </div>
        </div>

        <div class="row form-group">

            <div class="col-sm-3">&nbsp;&nbsp;Request Status</div>
            <div class="col-sm-3">
                <select id="requestStatus" ng-model="sRequestStatusID" style="width: 100%;" class=" form-control">
                    <option value='' disabled selected style='display:none;'></option>
                    <option ng-repeat="item in IssueSearchLists.RequestStatuslist" value="{{item.Text}}">
                        {{item.Value}}
                    </option>
                </select>
            </div>
            <div class="col-sm-3">&nbsp;&nbsp;Outlet No</div>
            <div class="col-sm-3"><input type="text" ng-model="sOutletNo" class="form-control">&nbsp;</div>
        </div>
        <div class="row form-group">
            <div class="col-sm-3">&nbsp;&nbsp;Dry Date From</div>
            <div class="col-sm-3 dropdown">
                <a class="dropdown-toggle" id="dropdown2" role="button" data-toggle="dropdown" data-target="#" href="#">
                    <div class="input-group">
                        <input type="text" class="form-control" data-ng-model="sDryDateFrom"><span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                    </div>
                </a>
                <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <datetimepicker data-ng-model="sDryDateFrom" data-datetimepicker-config="{ dropdownSelector: '#dropdown2' }" />
                </ul>
                &nbsp;
            </div>
            <div class="col-sm-3">&nbsp;&nbsp;Date Dry To</div>
            <div class="col-sm-3 dropdown ">
                <a class="dropdown-toggle" id="dropdown3" role="button" data-toggle="dropdown" data-target="#" href="#">
                    <div class="input-group">
                        <input type="text" class="form-control" data-ng-model="sDryDateTo"><span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                    </div>
                </a>
                <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <datetimepicker data-ng-model="sDryDateTo" data-datetimepicker-config="{ dropdownSelector: '#dropdown3' }" />
                </ul>
                &nbsp;
            </div>
        </div>
    </div>
    <p></p><p></p>
    <input type="button" value="Search"  id="searchResults"class="btn  btn-primary" ng-click="searchStandingDry()">
    <p></p>
    <span us-spinner="{radius:30, width:8, length: 16}"></span>

    <img id="spinner" ng-src="~/assets/img/ajax-loader.gif" style="display:none;">
    <br />
    <div ng-controller="loadDrylogsController" class="container">
        <div class="row" ng-if="mainGridDiv=='true'" id="mainDiv">
            <button class="btn btn-link" ng-click="exportData()">
                <span class="glyphicon glyphicon-share"></span> Export to Excel
            </button>
            <div id="table1">
                <table class="table table-striped  table-hover">
                    <thead style=" color: #FDE0DC;background-color: #E51C23; border-color: #DD191D">
                        <tr>
                            <td>View</td>
                            <td>Outlet No</td>
                            <td>SOC Name </td>
                            <td>Product Name</td>
                            <td>Tank Name</td>
                            <td>Dealer Name</td>
                            <td>Date Dry From</td>
                            <td>Date Dry To</td>
                            <td>Status</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in Data.Items">
                            <td><a href="/StandingDryLogs/Edit/{{item.IDInstance}}" class="btn btn-danger">View</a></td>
                            <td>{{item.OutletNo}}</td>
                            <td>{{item.SOCName}}</td>
                            <td>{{item.ProductName}}</td>
                            <td>{{item.TankName}}</td>
                            <td>{{item.DealerName}}</td>
                            <td>{{item.DateDryFrom}}</td>
                            <td>{{item.DateDryTo}}</td>
                            <td>{{item.IDRequestStatus}}</td>

                        </tr>

                    </tbody>
                </table>
            </div>

            @*<div class="text-center">
                <my-pager page="{{page}}" pages-count="{{pagesCount}}" total-count="{{totalCount}}" search-func="search(page)"></my-pager>
            </div>*@
        </div>
        
        
        
        <div class="row" ng-if="searchDiv=='true'" id="searchDiv">
            <button class="btn btn-link" ng-click="exportData()">
                <span class="glyphicon glyphicon-share"></span> Export to Excel
            </button>
            <div id="table1">
                @*<table class="table table-striped  table-hover">
                    <thead style=" color: #FDE0DC;background-color: #E51C23; border-color: #DD191D">
                        <tr>
                            <td>View</td>
                            <td>Outlet No</td>
                            <td>SOC Name </td>
                            <td>Product Name</td>
                            <td>Tank Name</td>
                            <td>Dealer Name</td>
                            <td>Date Dry From</td>
                            <td>Date Dry To</td>
                            <td>Status</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in IssueSearchResults">
                            <td><a href="/StandingDryLogs/Edit/{{item.IDInstance}}" class="btn btn-danger">View</a></td>
                            <td>{{item.OutletNo}}</td>
                            <td>{{item.SOCName}}</td>
                            <td>{{item.ProductName}}</td>
                            <td>{{item.TankName}}</td>
                            <td>{{item.DealerName}}</td>
                            <td>{{item.DateDryFrom}}</td>
                            <td>{{item.DateDryTo}}</td>
                            <td>{{item.IDRequestStatus}}</td>

                        </tr>

                    </tbody>
                </table>*@
            </div>

            @*<div class="text-center">
                <my-pager page="{{page}}" pages-count="{{pagesCount}}" total-count="{{totalCount}}" search-func="search(page)"></my-pager>
            </div>*@
        </div>
        @*<div ng-hide="!isSearching">
                <div class="progress progress-striped active">
                    <div class="progress-bar" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                        <span class="sr-only">Loading...</span>
                    </div>
                </div>
            </div>*@

    </div>
</div>
<script type="text/javascript">
    (function () {
        alert();
        
        $("#searchResults").click(
            function() {
                $("#mainDiv").empty();
            });

    });

</script>




